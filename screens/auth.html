<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login / Signup â€“ Nopay</title>
  <link href="https://fonts.googleapis.com/css?family=Inter:400,600&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="../styles/auth.css"/>
</head>
<body>
  <div class="background">
    <div class="particles"></div>
    <div class="shooting-stars">
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
    </div>

    <div class="auth-container">
      <img src="../assets/nopaylogo.png" alt="Nopay Logo" class="auth-logo"/>
      <div class="auth-title">Welcome to Nopay</div>

      <div class="auth-toggle">
        <button id="loginLink" class="active">Login</button>
        <button id="createAccountLink">Sign Up</button>
        <div class="underline"></div>
      </div>

      <div class="form-wrapper">
        <form id="loginForm" class="auth-form active" autocomplete="on">
          <input type="email" id="loginEmail" placeholder="Email" required/>
          <input type="password" id="loginPass" placeholder="Password" required/>
          <button type="submit" id="loginSubmit">Log In</button>
        </form>

        <form id="signupForm" class="auth-form" autocomplete="on">
          <input type="text" placeholder="Full Name" required/>
          <input type="email" id="signupEmail" placeholder="Email" required/>
          <input type="password" id="signupPass" placeholder="Password" required/>
          <input type="password" placeholder="Confirm Password" required/>
          <button type="submit" id="signupSubmit">Sign Up</button>
        </form>
      </div>

      <button id="logoutButton" class="logout-button">Log Out</button>

      <div class="auth-footer">
        By continuing, you agree to our <a href="#">Terms</a> and <a href="#">Privacy Policy</a>.
      </div>
    </div>
  </div>

  <script src="../dist/index.bundle.js"></script>
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const loginTab = document.getElementById('loginLink');
      const signupTab = document.getElementById('createAccountLink');
      const loginForm = document.getElementById('loginForm');
      const signupForm = document.getElementById('signupForm');
      const wrapper = document.querySelector('.form-wrapper');
      const underline = document.querySelector('.auth-toggle .underline');

      function updateUI() {
        const isLogin = loginTab.classList.contains('active');
        loginForm.classList.toggle('active', isLogin);
        signupForm.classList.toggle('active', !isLogin);

        // Animate wrapper height to match active form
        const activeForm = isLogin ? loginForm : signupForm;
        wrapper.style.height = activeForm.scrollHeight + 'px';

        // Move underline under the active tab
        const activeTab = isLogin ? loginTab : signupTab;
        underline.style.width = activeTab.offsetWidth + 'px';
        underline.style.left  = activeTab.offsetLeft + 'px';
      }

      loginTab.addEventListener('click', () => {
        loginTab.classList.add('active');
        signupTab.classList.remove('active');
        updateUI();
      });

      signupTab.addEventListener('click', () => {
        signupTab.classList.add('active');
        loginTab.classList.remove('active');
        updateUI();
      });

      // initialize sizes/underline
      updateUI();
    });
  </script>
</body>
</html>
